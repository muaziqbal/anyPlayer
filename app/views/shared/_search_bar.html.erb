<div class='layout__search-bar display__space-between'>
  <div class='avatar'>
    <!-- Placeholder for search-bar layout to keep search bar input center -->
  </div>
  <div class='input' data-controller='search'>
    <div class='input__icon'>
      <%= icon_tag 'search', size: 'large' %>
    </div>
    <%= form_with url: search_path, method: :post do |form| %>
      <%= form.hidden_field :resource, value: params[:controller] %>
      <%= form.search_field :query, value: session[:query], data: { target: 'search.input', action: 'input->search#updateInput' } %>
    <% end %>
    <div class='input__icon input__icon--right' data-target='search.clear'>
      <%= link_to search_path(resource: params[:controller]), method: :delete, remote: true do %>
        <%= icon_tag 'close', size: 'large' %>
      <% end %>
    </div>
  </div>
  <div data-controller='dropdown' class='dropdown'>
    <span data-action='click->dropdown#show'><%= avatar_tag Current.user %></span>
    <div data-target='dropdown.list' class='hidden dropdown__list'>
      <%= link_to t('label.manage_users'), users_path, class: 'dropdown__item' if Current.user.is_admin? %>
      <%= link_to t('label.update_profile'), edit_user_path(Current.user), class: 'dropdown__item' %>
      <%= link_to t('label.logout'), session_path, method: :delete, class: 'dropdown__item' %>
    </div>
  </div>
</div>
