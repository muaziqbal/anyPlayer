<% page_title_tag t('label.songs') %>

<% if @songs.empty? %>
  <div class='u-mt-wide'>
    <%= empty_alert_tag has_icon: true, has_overlay: false %>
  </div>
<% else %>
  <div class='o-container o-container--small' data-controller='infinite-scroll' data-infinite-scroll-url-value='<%= songs_path %>' data-infinite-scroll-total-pages-value='<%= @pagy.pages %>'>
    <%= render partial: 'songs/table', locals: { songs: @songs } %>
    <div data-infinite-scroll-target='trigger' class='o-flex o-flex--justify-center u-my-small'>
      <% if @pagy.next %>
        <%= loader_tag %>
      <% end %>
    </div>
  </div>
<% end %>
