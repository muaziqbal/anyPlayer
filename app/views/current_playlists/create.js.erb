(function() {
  var playlistElement = document.querySelector("[data-controller='playlist']");

  App.player.updatePlaylist(JSON.parse('<%= j(render inline: @playlist.song_ids.to_json) %>'));
  App.player.skipTo(0);

  if (playlistElement && playlistElement.dataset.playlistId == '<%= @playlist.id %>') {
    App.renderPlaylistContent('<%= j(render partial: 'playlists/show_buildin', locals: { next_url: next_url_for_path(current_playlist_path, @pagy) }) %>');
  }
})();
