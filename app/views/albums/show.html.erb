<div class='album' data-controller='playlist'>
  <div class='album__header'>
    <div class='heading'>
      <div class='heading__image heading__image--medium'>
        <%= image_tag album_image_url(@album, size: 'medium') %>
      </div>
      <div class='heading__body'>
        <div class='heading__body__text heading__body__text--main'><%= @album.name %></div>
        <div class='heading__body__text'><%= @album.artist.name %></div>
        <div class='heading__body__text'>
          <span><%= @album.songs.count %> <%= t('label.tracks') %></span>
        </div>
        <div class='heading__body__actions'>
          <button data-action='playlist#playAll' class='button button--primary'><%= t('label.play_all') %></button>
        </div>
      </div>
    </div>
  </div>
  <div class='album__content'>
    <ul class='list' data-action='click->playlist#actionHandler'>
      <% @album.songs.each_with_index do |song, index| %>
        <li class='list__item pointer-cursor' data-target='playlist.item' data-song-id='<%= song.id %>' data-playlist-action='play'>
          <span class='list__item__content'>
            <span class='list__item__info'><%= index %></span>
          </span>
          <span class='list__item__content'>
            <span class='list__item__info list__item__info--main'><%= song.name %></span>
          </span>
          <span class='list__item__content list__item__content--minor'>
            <span class='list__item__info list__item__info--action' data-playlist-action='showCollectionDialog'>
              <%= icon_tag 'playlist-add', size: 'small' %>
            </span>
            <span class='list__item__info list__item__info--minor'><%= song.duration %></span>
          </span>
        </li>
      <% end %>
    </ul>
  </div>
</div>
