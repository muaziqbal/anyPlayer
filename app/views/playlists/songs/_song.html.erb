<li id='<%= dom_id(song) %>'class='js-playlist-sortable-item c-list__item u-p-0 u-cursor-pointer' data-playlist-songs-target='item' data-song-id='<%= song.id %>'>
  <div class='o-flex o-flex--align-center u-py-narrow'>
    <div class='js-playlist-sortable-item-handle u-mr-narrow'><%= icon_tag 'drag-indicator', size: 'small' %></div>
    <div class='o-flex o-flex--justify-between o-flex__item--grow-1' data-playlist-songs-action='play'>
      <div class='u-mr-narrow'>
        <h4 class='u-mb-tiny u-text-weight-normal u-text-line-clamp-2'><%= song.name %></h4>
        <%= song.artist.title %>
      </div>
      <div class='o-flex o-flex--align-center'>
        <div class='u-text-monospace u-mr-narrow'><%= format_duration(song.length) %></div>
        <div data-controller='dropdown' class='c-dropdown'>
          <span data-action='click->dropdown#show'><%= icon_tag 'more-vertical', size: 'small', title: t('label.more') %></span>
          <div data-dropdown-target='list' class='u-display-none c-dropdown__list'>
            <%= link_to t('text.add_to_playlist'), dialog_playlists_path(song_id: song.id), remote: true, data: { playlist_songs_action: 'none' }, class: 'c-dropdown__item' %>
            <%= button_to t('label.delete'), playlist_songs_for_path(playlist, song_ids: [song.id]), method: :delete, form_class: 'c-dropdown__item', form: { 'data-playlist-songs-action' => 'delete' } %>
          </div>
        </div>
      </div>
    </div>
  </div>
</li>
